[Script Info]
; Script generated by Aegisub 3.0.3
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
PlayResX: 1280
PlayResY: 720
ScaledBorderAndShadow: yes
Audio File: ?video
Video Zoom: 4
Scroll Position: 0
Active Line: 15
Video Zoom Percent: 0.53125
YCbCr Matrix: None
Video File: ?dummy:23.976000:40000:1280:720:0:0:0:
Video Aspect Ratio: 0
Video Position: 0
Last Style Storage: Default

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: romaji-furigana,Arial,22.5,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.5,1.5,8,20,20,30,1
Style: trans-eng-furigana,Arial,22.5,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.5,1.5,2,20,20,15,1
Style: trans-furigana,Arial,22.5,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.5,1.5,2,20,20,15,1
Style: hangul-furigana,Arial,22.5,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.5,1.5,2,20,20,68,1
Style: Default-furigana,Arial,15,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1.5,1.5,2,20,20,15,1
Style: Default,Arial,30,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,3,3,2,20,20,15,1
Style: hangul,Arial,45,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,3,3,2,20,20,68,1
Style: trans,Arial,45,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,3,3,2,20,20,15,1
Style: furigana,Arial,45,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,3,3,8,20,20,30,1
Style: trans-eng,Segoe Script,60,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,3,3,2,20,20,30,1
Style: romaji,Arial,24,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,-1,0,0,0,100,100,0,0,1,3,3,5,20,20,30,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:00.00,0:00:00.00,Default,dialog,0,0,0,code once,config={} fireworks_conf = {[1] = { class = "label"; x = 0; y = 0; height = 1; width = 1; label = "x" },[2] = { name = "posx"; class = "textbox"; x =1; y =0; height = 1; width = 10; value = "math.random(line.left,line.right)" }, [3] = { class = "label"; x = 0; y =1; height = 1; width = 1; label = "y"}, [4] = { name = "posy"; class = "textbox"; x = 1 ; y = 1; height = 1; width =10;  value ="line.middle+math.random(-30,30)"},[5] = { class = "label"; x = 0 ; y = 2; height = 1; width = 1; label = "radius(height)"},[7] = { name = "radius"; class = "textbox"; x = 1; y =2; height = 1; width = 10;  value = "math.random(80,180)"},[8] = { class = "label" ; x = 0 ; y = 3 ; height = 1 ; width = 1; label = "color1"}, [9] = {name = "color1", class = "color" ; x = 1 ; y = 3 ; height = 2 ; width = 1 ;  value = "#FFFFFF"}, [10] = {name = "rand1" ; class = "checkbox" ; x = 0 ; y = 4 ; height = 1 ; width = 1 ; label = "random" ; value = "false"}, [11] = { class = "label" ; x = 0 ; y = 9 ; height = 1 ; width = 1 ;  label = "fireseed"} , [12] = {name = "seed", class = "intedit" ; x = 1 ; y = 9 ; height = 1 ; width = 1 ; max = 300 ; min = 100 ; value = 150 }, [13] = { class = "label" ; x = 0 ; y = 10 ; height = 1 ; width = 1 ; label = "apply to"} , [14] = { name = "applyto" ; class = "dropdown" ; x = 1 ; y = 10 ; height = 1 ; width = 1 ; items = {"all syls","1/2 syls","1/3 syls","specific syls"} ;hint = "markup specific syls with \\kf tag instead of \\k tag" ; value = "1/2 syls"}, [15] = { class = "label" ; x = 0 ; y = 13 ; height = 1 ; width = 5 ; label = "Don't use inline variables ($variables)"}, [16] = { class = "label" ; x = 0 ; y = 5 ; height = 1 ; width = 1 ; label = "color2"}, [17] = { name = "color2" ; class = "color" ; x = 1 ; y = 5 ; height = 2 ; width = 1 ; value = "#FFFFFF"}, [18] = {name = "rand2" ; class = "checkbox" ; x = 0 ; y = 6 ; height = 1 ; width = 1 ; label = "random" ; value = "false"},[19] = { class = "label" ; x = 0 ; y = 7 ; height = 1 ; width = 1 ; label = "color3"} , [20] = { name = "color3" ; class = "color" ; x = 1 ; y = 7 ; height = 2 ; width = 1 ; value = "#FFFFFF"} , [21] = { name = "rand3" ; class = "checkbox" ; x = 0 ; y = 8 ; height = 1 ; width = 1 ; label = "random" ; value = "false"},[22] = {class = "label" ;  x = 0 ; y = 11 ; height = 1 ; width = 1 ; label = "fireworks type"} , [23] = { name = "type" ; class = "dropdown" ; x = 1 ; y = 11 ; height = 1 ; width = 1 ; items = {"type1","type2","type3","type4","random"} ; value = "random"} ,[24] = { name = "exclude" ; class = "checkbox" ; x = 0 ; y = 12 ; height = 1 ; width = 1 ; label = "disable type3" ; value = "true"} }
Comment: 0,0:00:00.00,0:00:00.00,Default,dialog,0,0,0,code once,cfg_res,config=_G.aegisub.dialog.display(fireworks_conf)
Comment: 0,0:00:00.00,0:00:00.00,Default,dialog,0,0,0,code once,function asscolor(htmlcolor) local r, g, b = string.match(htmlcolor, "(%x%x)(%x%x)(%x%x)") return _G.ass_color(_G.tonumber(r,16), _G.tonumber(g,16), _G.tonumber(b,16)) end
Comment: 0,0:00:00.00,0:00:00.00,Default,evaluate  string as an expression,0,0,0,code once,pos_x = _G.loadstring("return function(config, meta, syl, line) return "..config.posx.." end")() pos_y = _G.loadstring("return function(config, meta, syl, line) return "..config.posy.." end")() radius = _G.loadstring("return function(config, meta, syl, line) return "..config.radius.." end")()
Comment: 0,0:00:00.00,0:00:00.00,Default,fire seed shape,0,0,0,code syl all,shape1 = "m 0 0 l "..math.ceil(-1*meta.res_y/720).." "..math.ceil(62*meta.res_y/720).." l "..math.ceil(1*meta.res_y/720).." "..math.ceil(62*meta.res_y/720) shape2 = "m "..math.ceil(5*meta.res_y/720).." 0 b "..math.ceil(-1*meta.res_y/720).." 0 "..math.ceil(-1*meta.res_y/720).." "..math.ceil(10*meta.res_y/720).." "..math.ceil(5*meta.res_y/720).." "..math.ceil(10*meta.res_y/720).." b "..math.ceil(11*meta.res_y/720).." "..math.ceil(10*meta.res_y/720).." "..math.ceil(11*meta.res_y/720).." 0 "..math.ceil(5*meta.res_y/720).." 0"
Comment: 0,0:00:00.00,0:00:00.00,Default,glitter function,0,0,0,code once,function glitter(dur)  recall.time = 0 tags = "" while recall.time < dur  do tags = tags..string.format("\\t(%d,%d,\\fscx%d\\fscy%d)\\t(%d,%d,\\fscx20\\fscy20)",remember("time",recall.time+math.random(100)),recall.time+10,remember("size",math.random(30,50)),recall.size,recall.time+30,recall.time+40)  end return tags end
Comment: 0,0:00:00.00,0:00:00.00,Default,glitter function,0,0,0,code once,function glitter2(dur,color)  local d = dur recall.time = 0 tags = "" while recall.time < d do tags = tags..string.format("\\t(%d,%d,\\1c%s)\\t(%d,%d,\\1c&HFFFFFF&)",remember("time",recall.time+math.random(100)),recall.time+10,color,recall.time+30,recall.time+40)  end return tags end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl all,if config.applyto == "all syls" then  fxgroup.fireworks = syl.i  elseif config.applyto == "1/2 syls" then fxgroup.fireworks = syl.i == math.mod(syl.i,2)*syl.i elseif config.applyto == "1/3 syls" then  fxgroup.fireworks = syl.i == math.mod(syl.i,3)*syl.i elseif config.applyto == "specific syls" then fxgroup.fireworks = syl.tag == "\\kf" end
Comment: 0,0:00:00.00,0:00:00.00,Default,color,0,0,0,code syl all,if config.rand1 then  color1 = _G.ass_color(_G.HSV_to_RGB(math.random(360),0.7,1)) else color1 = asscolor(config.color1) end if config.rand2 then color2 = _G.ass_color(_G.HSV_to_RGB(math.random(360),0.7,1)) else color2 =asscolor(config.color2) end if config.rand3 then color3 = _G.ass_color(_G.HSV_to_RGB(math.random(360),0.7,1)) else color3 =asscolor(config.color3) end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,function circle(x,y,r,deg)     rad = math.rad(deg)    xpos = x + r * math.cos(rad)    ypos = y + r * math.sin(rad)   return xpos, ypos end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,function sphere(x,y,r) local posx = r*math.sin(remember("theta",math.random()*3.14))*math.cos(remember("psi",math.random()*6.28)) local posy = r*math.sin(recall.theta)*math.sin(recall.psi) local z = (r*math.cos(recall.theta)+r)/(r*2) local dist = math.sqrt(posx^2+posy^2) local angl = math.deg(math.atan2(posy,posx)) posx = x + posx posy = y + posy return posx, posy, z,  dist , angl end
Comment: 0,0:00:00.00,0:00:00.00,Default,fireworks function type1,0,0,0,code once,function fireworks1(x,y,r,seed) local x = j==1 and remember("x",x) or recall.x local y = j == 1 and remember("y",y) or recall.y local r = j == 1 and remember("r",r) or recall.r maxloop(seed*2+1) local tags = ""  if j <= seed*2 then if math.mod(j,2) == 1 then retime("presyl",0,remember("end_time",math.random(900,1100))) posx,posy,_,_,rad = sphere(x,y,r) tags = string.format("{\\an5\\move(%f,%f,%f,%f)\\1c%s\\bord0\\shad0\\fr%f\\blur1\\fscx0\\fscy0\\t(0,400,\\fscx100\\fscy100)\\t(400,1000,\\fscy10)\\p1}%s",x,y,posx,posy,color1,-rad+90,shape1) return tags else retime("presyl",recall.end_time, math.random(1400,2000)) tags = string.format("{\\an5\\move(%f,%f,%f,%f)\\org(%f,%f)\\t(\\fr%f)\\1c&HFFFFFF&\\bord0\\shad0\\fscx30\\fscy30%s\\fad(0,200)\\p1}%s ",posx+math.random(-3,3),posy+math.random(-3,3),posx,posy+math.random(5,15),posx,posy,math.random(-360,360),glitter(line.duration),shape2) return tags end else tags = string.format("{\\an5\\pos(%f,%f)\\1c&HFFFFFF&\\3c&HFFFFFF&\\bord5\\shad0\\blur20\\fscx%f\\fscy%f\\fad(0,33)\\p1}m 32 0 b -1 0 -1 50 33 50 b 66 50 66 0 32 0 ",x,y,r,r) retime("presyl",0,66) return tags  end end
Comment: 0,0:00:00.00,0:00:00.00,Default,fireworks function type2,0,0,0,code once,function fireworks2(x,y,r,seed) local x = j==1 and remember("x",x) or recall.x local y = j == 1 and remember("y",y) or recall.y local r = j == 1 and remember("r",r) or recall.r maxloop(seed*4+1) local tags = "" if j <= seed*2 then if math.mod(j,2) == 1 then retime("presyl",0,remember("end_time",math.random(1200,1400))) posx,posy = circle(x,y,math.random(r*0.8,r),remember("rad",math.random(360))) tags = string.format("{\\an2\\move(%f,%f,%f,%f)\\1c&HFFFFFF&\\bord0\\shad0\\fr%f\\blur1.5\\fscx0\\fscy0\\t(0,400,\\fscx100\\fscy100)\\t(400,%d,\\fscy10)\\p1}%s",x,y,posx,posy,-recall.rad+90,line.duration,shape1) return tags else retime("presyl",0,recall.end_time) tags = string.format("{\\an5\\move(%f,%f,%f,%f)\\1c%s\\bord0\\shad0\\fscx50\\fscy50\\fad(0,200)\\p1}%s ",x,y,posx,posy,color1,shape2) return tags end elseif j <= seed*4  then retime("presyl",0,math.random(1200,1400)) posx, posy = sphere(x,y,r*0.5) tags = string.format("{\\an5\\move(%f,%f,%f,%f)\\1c%s\\bord0\\shad0\\blur1\\fscx50\\fscy50\\fad(0,200)\\p1}%s",x,y,posx,posy,color2,shape2) return tags else  tags = string.format("{\\an5\\pos(%f,%f)\\1c&HFFFFFF&\\3c&HFFFFFF&\\bord5\\shad0\\blur30\\fscx%f\\fscy%f\\fad(0,33)\\p1}m 32 0 b -1 0 -1 50 33 50 b 66 50 66 0 32 0 ",x,y,r,r) retime("presyl",0,66) return tags end  end
Comment: 0,0:00:00.00,0:00:00.00,Default,fireworks function type3,0,0,0,code once,function fireworks3(x,y,r,seed) local x = j==1 and remember("x",x) or recall.x local y = j == 1 and remember("y",y) or recall.y  local p = j == 1 and remember("p",math.random(2)) or recall.p local height = j ==1 and remember("h",r) or recall.h if p == 1 then 	maxloop(seed*5-1) 	local tags = "" 		local r = math.ceil(j/seed)  retime("presyl",0,math.random(1200,1500)+remember("rand",math.random(0,height))*3) tags = string.format("{\\an5\\t(0.5,\\fsvp%d)\\move(%f,%f,%f,%f)\\fr%d\\bord0\\shad0\\1c%s\\t(0,%d,\\1c&HFFFFFF&)\\fscx%d\\fscy%d\\fad(0,200)\\p1}%s",recall.rand*1.2,line.center-180+r*60,line.middle,line.center-180+r*60+math.random(-recall.rand*0.1,recall.rand*0.1),line.middle,30*r-90,color1,line.duration*(recall.rand/height)+600,30*height/100,30*height/100,({shape1,shape2})[math.random(2)]) 	return tags 	elseif p == 2 then maxloop(seed*6-1) 	local tags = "" local r = math.floor(j/seed) retime("presyl",0,math.random(1200,1500)+remember("rand",math.random(0,height))*3) if r <= 2 then 	tags = string.format("{\\an5\\t(0.5,\\fsvp%d)\\move(%f,%f,%f,%f)\\fr%d\\bord0\\shad0\\1c%s\\t(0,%d,\\1c&HFFFFFF&)\\fscx%d\\fscy%d\\fad(0,200)\\p1}%s",recall.rand*1.2,line.left+r*60,line.middle,line.left+r*60+math.random(-recall.rand*0.1,recall.rand*0.1),line.middle,-60,color1,line.duration*(recall.rand/height)+600,30*height/100,30*height/100,({shape1,shape2})[math.random(2)]) 	return tags 	else  tags = string.format("{\\an5\\t(0.5,\\fsvp%d)\\move(%f,%f,%f,%f)\\fr%d\\bord0\\shad0\\1c%s\\t(0,%d,\\1c&HFFFFFF&)\\fscx%d\\fscy%d\\fad(0,200)\\p1}%s",recall.rand*1.2,line.right-(r-3)*60,line.middle,line.right-(r-3)*60+math.random(-recall.rand*0.1,recall.rand*0.1),line.middle,60,color2,line.duration*(recall.rand/height)+600,30*height/100,30*height/100,({shape1,shape2})[math.random(2)]) 		return tags end end end
Comment: 0,0:00:00.00,0:00:00.00,Default,fireworks function type4,0,0,0,code once,function fireworks4(x,y,r,seed) local x = j==1 and remember("x",x) or recall.x local y = j == 1 and remember("y",y) or recall.y local r = j == 1 and remember("r",r) or recall.r  maxloop(seed*2+1) if j <= seed then retime ("presyl",0,math.random(1800,2200)) local posx, posy, z, dist, angl = sphere(x,y,r)  tags = string.format("{\\an5\\pos(%f,%f)\\fsvp0\\t(0.3,\\fsvp%f)\\bord0\\shad0\\fr%f\\fscx%f\\fscy%f\\1c%s%s\\fad(0,200)\\p1}%s",x,y,dist,angl,25+25*z,25+25*z,color1,glitter2(line.duration,color1),shape2) return tags elseif j <= seed*2 then  posx = r*0.5*math.sin(remember("theta",math.random()*3.14))*math.cos(remember("psi",math.random()*6.28)) posy = r*0.5*math.sin(recall.theta)*math.sin(recall.psi) local z = (r*0.5*math.cos(recall.theta)+r)/(r*2) local dist = math.sqrt(posx^2+posy^2) local angl = math.deg(math.atan2(posx,posy)) tags = string.format("{\\an5\\pos(%f,%f)\\fsvp0\\t(0.3,\\fsvp%f)\\bord0\\shad0\\fr%f\\fscx%f\\fscy%f\\1c%s\\fad(0,200)\\p1}%s",x,y,dist,angl,25+25*z,25+25*z,color2,shape2) retime("presyl",0,math.random(500,1800)) return tags else tags = string.format("{\\an5\\pos(%f,%f)\\1c&HFFFFFF&\\3c&HFFFFFF&\\bord5\\shad0\\blur20\\fscx%f\\fscy%f\\fad(0,33)\\p1}m 32 0 b -1 0 -1 50 33 50 b 66 50 66 0 32 0 ",x,y,r,r) retime("presyl",0,66) return tags end end
Comment: 0,0:00:00.00,0:00:00.00,Default,fireworks control function,0,0,0,code once,function fireworks(type,x,y,r,seed) local tags = ""   if type == "random" then if config.exclude then  local t = (j == 1 and remember("t",math.random(1,3)) or recall.t) if t == 1 then tags = fireworks1(x,y,r,seed) elseif t == 2 then tags = fireworks2(x,y,r,seed) elseif t == 3 then tags = fireworks4(x,y,r,seed) end else local t = (j == 1 and remember("t",math.random(1,4)) or recall.t) if t == 1 then tags = fireworks1(x,y,r,seed) elseif t == 2 then tags = fireworks2(x,y,r,seed) elseif t == 3 then tags = fireworks3(x,y,r,seed) elseif t == 4 then tags = fireworks4(x,y,r,seed) end end elseif type == "type1" then tags = fireworks1(x,y,r,seed) elseif type == "type2" then tags = fireworks2(x,y,r,seed) elseif type == "type3" then tags = fireworks3(x,y,r,seed) elseif type == "type4" then tags = fireworks4(x,y,r,seed) end return tags end
Dialogue: 0,0:00:00.00,0:00:00.00,Default,::Template lines::,0,0,0,,
Comment: 0,0:00:00.00,0:00:00.00,romaji,,0,0,0,template notext noblank fxgroup fireworks,!fireworks(config.type,pos_x(config, meta, syl, line),pos_y(config, meta, syl, line),radius(config, meta, syl, line), config.seed)!
Dialogue: 0,0:00:00.00,0:00:00.00,Default,::Karaoke lines::,0,0,0,,
Dialogue: 0,0:01:08.18,0:01:09.99,romaji,,0,0,0,karaoke,{\kf18}Mi{\k15}a{\k13}nhae {\k135}ma
Dialogue: 0,0:01:10.10,0:01:13.37,romaji,,0,0,0,karaoke,{\kf20}Do{\k20}kha{\k40}ge {\k20}nal {\k21}beo{\k17}ri{\k34}go {\k21}tte{\k21}na{\k17}do {\k96}dwae
Dialogue: 0,0:01:13.93,0:01:17.27,romaji,,0,0,0,karaoke,{\kf13}Ni{\k25}ga {\k39}wo{\k18}nhan {\k13}da{\kf20}myeon {\k32}geu{\k34}rae {\k21}Good{\k119}bye
Dialogue: 0,0:01:17.68,0:01:20.99,romaji,,0,0,0,karaoke,{\kf14}Heo{\k26}na {\k34}nae {\k23}mam{\k14}kka{\k21}ji {\k35}jeo{\k15}beun{\k26}geun {\k24}a{\kf99}nya
Dialogue: 0,0:01:21.42,0:01:23.82,romaji,,0,0,0,karaoke,{\k31}Nae {\k21}sa{\kf49}ran{\k49}gi {\k45}i{\k45}gyeo
Dialogue: 0,0:01:23.85,0:01:27.29,romaji,,0,0,0,karaoke,{\k31}A{\k7}i{\kf31}ya {\k15}meon{\k30}jeo {\k68}ga, {\k36}eo{\k14}gi{\kf31}ya {\k9}di{\k9}yeo{\k23}ra{\k40}cha
Dialogue: 0,0:01:27.57,0:01:30.57,romaji,,0,0,0,karaoke,{\k36}Eo{\kf14}gi{\k21}ya{\k14}di{\kf15}a {\k22}dwe{\k29}cha{\k22}jeul{\k44}kkeo{\k84}ya
